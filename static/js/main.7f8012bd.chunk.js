(this["webpackJsonpreact-product-alert"]=this["webpackJsonpreact-product-alert"]||[]).push([[0],{17:function(e,t,a){},28:function(e,t,a){},33:function(e,t,a){e.exports=a(59)},38:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=(a(38),a(11)),i=a.n(l),u=a(12),s=a(15),m=(a(17),a(9)),d=a(8),p=a.n(d);var f=Object(m.a)((function(e){var t=e.productStore,a=Object(n.useRef)(null),o="https://x25iuvslok.execute-api.ap-south-1.amazonaws.com/dev/api/bargains",c=Object(n.useState)(!1),l=Object(s.a)(c,2),m=l[0],d=l[1],f=Object(n.useState)(!1),h=Object(s.a)(f,2),g=h[0],b=h[1],v=function(){var e=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(a.current.value),e.next=4,p()({method:"post",url:o,data:{email:t.email,productUrl:a.current.value}}).then((function(e){200===e.status&&(a.current.value="",d(!0),b(!1))})).catch((function(e){b(!0),d(!1),console.log(e)}));case 4:return e.next=6,p.a.get(o,{params:{email:t.email}}).then((function(e){0!==e.data.length&&(t.setProductData(e.data),t.setLoading(!0)),console.log(e.data.length)})).catch((function(e){console.log(e)})).then(setTimeout((function(){console.log("This will run after 5 second!"),d(!1),b(!1)}),5e3));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:" d-flex justify-content-center align-items-center container"},r.a.createElement("form",{class:"form-inline justify-center",onSubmit:function(e){v(e)}},r.a.createElement("label",{class:"sr-only",for:"inlineFormInputName2"},"Name"),r.a.createElement("input",{ref:a,type:"text",class:"form-control mb-2 mr-sm-2",id:"inlineFormInputName2",placeholder:"Enter product url"}),r.a.createElement("button",{type:"submit",class:"btn btn-primary mb-2"},"Submit"))),r.a.createElement("div",{class:m?"alert alert-success":"alert-none",role:"alert"},m?"Success!":""),r.a.createElement("div",{class:g?"alert alert-danger":"alert-none",role:"alert"},g?"Error!":""))})),h=(a(28),a(30)),g=a(14),b=a(29),v="https://x25iuvslok.execute-api.ap-south-1.amazonaws.com/dev/api/bargains",E=Object(m.a)((function(e){var t=e.productStore,a=function(){var e=Object(u.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.delete("".concat(v,"/").concat(a));case 2:return e.next=4,p.a.get(v,{params:{email:t.email}}).then((function(e){0!==e.data.length?(t.setProductData(e.data),t.setLoading(!0)):(t.setLoading(!0),t.setProductData("")),console.log(e.data.length)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(""===t.productData),t.loading?""===t.productData?r.a.createElement("div",{class:"alert alert-warning",role:"alert"},"You haven't added any products yet!"):r.a.createElement(b.a,null,r.a.createElement(h.a,null,t.productData.map((function(e,t){return r.a.createElement(g.a,{className:"  d-flex justify-content-center align-items-center container",show:!0,onClose:function(t){a(e.bargainId)},key:t},r.a.createElement(g.a.Header,null,r.a.createElement("a",{href:e.productUrl,rel:"noopener noreferrer",target:"_blank"},r.a.createElement("strong",null,e.productTitle))))})))):""}));a(58);var y=Object(m.a)((function(e){var t=e.productStore,a=Object(n.useRef)(null);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{style:{padding:"20px"}}," Price Tracker "),r.a.createElement("div",{className:" d-flex justify-content-center align-items-center container"},r.a.createElement("form",{class:"form-inline justify-center",onSubmit:function(e){!function(e){e.preventDefault(),t.setEmail(a.current.value),p.a.get(v,{params:{email:a.current.value}}).then((function(e){0!=e.data.length?(t.setProductData(e.data),t.setLoading(!0)):t.setLoading(!0),console.log(e.data.length)})).catch((function(e){console.log(e)}))}(e)},style:{padding:"10px"}},r.a.createElement("label",{class:"sr-only",for:"inlineFormInputName2"},"Name"),r.a.createElement("input",{ref:a,type:"text",class:"form-control mb-2 mr-sm-2",id:"inlineFormInputName2",placeholder:"Enter email"}),r.a.createElement("button",{type:"submit",class:"btn btn-primary mb-2"},"Submit"))),r.a.createElement(f,{productStore:t}),r.a.createElement(E,{productStore:t}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=a(31),w=a(32),x=a(1),k=function(){function e(){Object(j.a)(this,e),this.productData="",this.email="",this.loading=!1}return Object(w.a)(e,[{key:"setProductData",value:function(e){this.productData=e}},{key:"setEmail",value:function(e){this.email=e}},{key:"setLoading",value:function(e){this.loading=e}}]),e}(),D=new(k=Object(x.i)(k,{productData:x.n,email:x.n,loading:x.n,setLoading:x.f,setProductData:x.f,setEmail:x.f}));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,{productStore:D})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.7f8012bd.chunk.js.map